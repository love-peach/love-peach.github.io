$(document).ready(function(){function a(){3===p?p=3:p++}function e(){0===p?p=0:p--}function t(){p>0?3===p?($(".btn-next").hide(),$(".btn-prev").show()):($(".btn-prev").show(),$(".btn-next").show().removeClass("transparent"),$(".menu-icon-wrap").addClass("change-menu-icon")):($(".btn-prev").hide(),$(".btn-next").addClass("transparent"),$(".change-menu-icon").removeClass("change-menu-icon"))}function i(a,e){switch(a){case 0:$(".page0").show().stop(!1,!1).animate({opacity:1,filter:"alpha(opacity=100)"},{duration:1e3}),$(".page1").stop().animate({opacity:0,filter:"alpha(opacity=0)"},{duration:1e3}),$(".pagination-bullet").siblings().removeClass("pagination-bullet-active").eq(a).addClass("pagination-bullet-active"),c=!1,console.log(a+e);break;case 1:"down"===e?($(".page0").stop(!1,!1).css({opacity:1,filter:"alpha(opacity=100)"}).animate({opacity:0,filter:"alpha(opacity=0)"},{duration:1e3,complete:$(this).hide()}),$("#page1-left1").css({top:"-100%"}).animate({top:"0%"},{duration:800}),$("#page1-left2").css({top:-2e3}).delay(300).animate({top:0},{duration:1e3}),$("#page1-right").css({opacity:1,filter:"alpha(opacity=100)",top:"200%"}).delay(300).animate({top:0},{duration:1e3})):"up"===e&&$(".page2").stop(!1,!1).css({opacity:1,filter:"alpha(opacity=100)"}).animate({opacity:0,filter:"alpha(opacity=0)"},{duration:1e3}),$(".page1").stop(!1,!1).css({opacity:0,filter:"alpha(opacity=0)"}).animate({opacity:1,filter:"alpha(opacity=100)"},{duration:1e3},o(a)),$(".pagination-bullet").siblings().removeClass("pagination-bullet-active").eq(a).addClass("pagination-bullet-active"),c=!1,console.log(a+e);break;case 2:"down"===e?($(".page1").stop(!1,!1).animate({opacity:0,filter:"alpha(opacity=0)"},{duration:1e3}),$("#page2-left1").css({top:"-100%"}).animate({top:"0%"},{duration:800}),$("#page2-left2").css({top:-2e3}).delay(300).animate({top:0},{duration:1e3}),$("#page2-right").css({opacity:1,filter:"alpha(opacity=100)",top:"200%"}).delay(300).animate({top:0},{duration:1e3})):"up"===e&&$(".page3").stop(!1,!1).css({opacity:1,filter:"alpha(opacity=100)"}).animate({opacity:0,filter:"alpha(opacity=0)"},{duration:1e3}),$(".page2").stop(!1,!1).css({opacity:0,filter:"alpha(opacity=0)"}).animate({opacity:1,filter:"alpha(opacity=100)"},{duration:1e3},o(a)),$(".pagination-bullet").siblings().removeClass("pagination-bullet-active").eq(a).addClass("pagination-bullet-active"),c=!1,console.log(a+e);break;case 3:if(c)return void console.log("已经到底部啦！！！");$(".page1").stop(!1,!1).animate({opacity:0,filter:"alpha(opacity=0)"},{duration:1e3}),$(".page2").stop(!1,!1).animate({opacity:0,filter:"alpha(opacity=0)"},{duration:1e3}),$("#page3-left1").css({top:"-100%"}).animate({top:"0%"},{duration:800}),$("#page3-left2").css({top:-2e3}).delay(300).animate({top:0},{duration:1e3}),$("#page3-right").css({opacity:1,filter:"alpha(opacity=100)",top:"200%"}).delay(300).animate({top:0},{duration:1e3}),$(".page3").stop(!1,!1).css({opacity:0,filter:"alpha(opacity=0)"}).animate({opacity:1,filter:"alpha(opacity=100)"},{duration:1e3},o(a)),$(".pagination-bullet").siblings().removeClass("pagination-bullet-active").eq(a).addClass("pagination-bullet-active"),c=!0,console.log(a+e);break;default:console.log("未知错误"),console.log(a+e)}}function o(a){a>=0&&$(".page"+a).addClass("page-active")}var n="down",p=0,l=0,c=!1,s=function(o){o=o||window.event,o.wheelDelta?(o.wheelDelta>l&&(n="up",$(".page"+p).is(":animated")||(e(),i(p,n))),o.wheelDelta<l&&(n="down",$(".page"+p).is(":animated")||(a(),i(p,n)))):o.detail&&(o.detail>l&&(e(),$(".page"+p).is(":animated")||(n="up",i(p,n))),o.detail<l&&(n="down",$(".page"+p).is(":animated")||(a(),i(p,n)))),t()};document.addEventListener&&document.addEventListener("DOMMouseScroll",s,!1),window.onmousewheel=document.onmousewheel,document.onmousewheel=s,$(".pagination .pagination-bullet").on("click",function(){var a=$(this).index();p>a?(i(a,"up"),$(".page").not(".page"+a).stop(!1,!1).animate({opacity:0,filter:"alpha(opacity=0)"},{duration:1e3})):a>p&&(i(a,"down"),$(".page").not(".page"+a).stop(!1,!1).animate({opacity:0,filter:"alpha(opacity=0)"},{duration:1e3})),p=a,t(),console.log("导航点操作："+p)}),$(".btn-next").click(function(){$(".page"+p).is(":animated")||(a(),i(p,"down")),t(),console.log("导航箭头操作："+p)}),$(".btn-prev").click(function(){$(".page"+p).is(":animated")||(e(),i(p,"up")),t(),console.log("导航箭头操作："+p)}),$(document).on("keydown",function(o){38==o.keyCode||33==o.keyCode?($(".page"+p).is(":animated")||(e(),i(p,"up")),t()):(40==o.keyCode||34==o.keyCode)&&($(".page"+p).is(":animated")||(a(),i(p,"down"))),t(),console.log("键盘操作："+p)})});