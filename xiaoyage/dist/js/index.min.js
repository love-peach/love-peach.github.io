$(document).ready(function(){function a(){3===p?p=3:p++}function o(){0===p?p=0:p--}function e(){p>0?3===p?($(".btn-next").hide(),$(".btn-prev").show()):($(".btn-prev").show(),$(".btn-next").show().removeClass("transparent"),$(".menu-icon-wrap").addClass("change-menu-icon")):($(".btn-prev").hide(),$(".btn-next").addClass("transparent"),$(".change-menu-icon").removeClass("change-menu-icon"))}function t(a,o){switch(a){case 0:$(".page0").show().stop(!1,!1).animate({opacity:1,filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=100)"},{duration:1e3}),$(".page1").stop().animate({opacity:0,filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=0)"},{duration:1e3}),$(".pagination-bullet").siblings().removeClass("pagination-bullet-active").eq(a).addClass("pagination-bullet-active"),s=!1,console.log(a+o);break;case 1:"down"===o?($(".page0").stop(!1,!1).css({opacity:1,filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=100)"}).animate({opacity:0,filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=0)"},{duration:1e3,complete:$(this).hide()}),$("#page1-left1").css({top:"-100%"}).animate({top:"0%"},{duration:800}),$("#page1-left2").css({top:-2e3}).delay(300).animate({top:0},{duration:1e3}),$("#page1-right").css({opacity:1,filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=100)",top:"200%"}).delay(300).animate({top:0},{duration:1e3})):"up"===o&&$(".page2").stop(!1,!1).css({opacity:1,filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=100)"}).animate({opacity:0,filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=0)"},{duration:1e3}),$(".page1").stop(!1,!1).css({opacity:0,filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=0)"}).animate({opacity:1,filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=100)"},{duration:1e3},i(a)),$(".pagination-bullet").siblings().removeClass("pagination-bullet-active").eq(a).addClass("pagination-bullet-active"),s=!1,console.log(a+o);break;case 2:"down"===o?($(".page1").stop(!1,!1).animate({opacity:0,filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=0)"},{duration:1e3}),$("#page2-left1").css({top:"-100%"}).animate({top:"0%"},{duration:800}),$("#page2-left2").css({top:-2e3}).delay(300).animate({top:0},{duration:1e3}),$("#page2-right").css({opacity:1,filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=100)",top:"200%"}).delay(300).animate({top:0},{duration:1e3})):"up"===o&&$(".page3").stop(!1,!1).css({opacity:1,filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=100)"}).animate({opacity:0,filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=0)"},{duration:1e3}),$(".page2").stop(!1,!1).css({opacity:0,filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=0)"}).animate({opacity:1,filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=100)"},{duration:1e3},i(a)),$(".pagination-bullet").siblings().removeClass("pagination-bullet-active").eq(a).addClass("pagination-bullet-active"),s=!1,console.log(a+o);break;case 3:if(s)return void console.log("已经到底部啦！！！");$(".page1").stop(!1,!1).animate({opacity:0,filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=0)"},{duration:1e3}),$(".page2").stop(!1,!1).animate({opacity:0,filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=0)"},{duration:1e3}),$("#page3-left1").css({top:"-100%"}).animate({top:"0%"},{duration:800}),$("#page3-left2").css({top:-2e3}).delay(300).animate({top:0},{duration:1e3}),$("#page3-right").css({opacity:1,filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=100)",top:"200%"}).delay(300).animate({top:0},{duration:1e3}),$(".page3").stop(!1,!1).css({opacity:0,filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=0)"}).animate({opacity:1,filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=100)"},{duration:1e3},i(a)),$(".pagination-bullet").siblings().removeClass("pagination-bullet-active").eq(a).addClass("pagination-bullet-active"),s=!0,console.log(a+o);break;default:console.log("未知错误"),console.log(a+o)}}function i(a){a>=0&&$(".page"+a).addClass("page-active")}var n="down",p=0,r=0,s=!1,l=function(i){i=i||window.event,i.wheelDelta?(i.wheelDelta>r&&(n="up",$(".page"+p).is(":animated")||(o(),t(p,n))),i.wheelDelta<r&&(n="down",$(".page"+p).is(":animated")||(a(),t(p,n)))):i.detail&&(i.detail>r&&(o(),$(".page"+p).is(":animated")||(n="up",t(p,n))),i.detail<r&&(n="down",$(".page"+p).is(":animated")||(a(),t(p,n)))),e()};document.addEventListener&&document.addEventListener("DOMMouseScroll",l,!1),window.onmousewheel=document.onmousewheel,document.onmousewheel=l,$(".pagination .pagination-bullet").on("click",function(){var a=$(this).index();p>a?(t(a,"up"),$(".page").not(".page"+a).stop(!1,!1).animate({opacity:0,filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=0)"},{duration:1e3})):a>p&&(t(a,"down"),$(".page").not(".page"+a).stop(!1,!1).animate({opacity:0,filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=0)"},{duration:1e3})),p=a,e(),console.log("导航点操作："+p)}),$(".btn-next").click(function(){$(".page"+p).is(":animated")||(a(),t(p,"down")),e(),console.log("导航箭头操作："+p)}),$(".btn-prev").click(function(){$(".page"+p).is(":animated")||(o(),t(p,"up")),e(),console.log("导航箭头操作："+p)}),$(document).on("keydown",function(i){38==i.keyCode||33==i.keyCode?($(".page"+p).is(":animated")||(o(),t(p,"up")),e()):(40==i.keyCode||34==i.keyCode)&&($(".page"+p).is(":animated")||(a(),t(p,"down"))),e(),console.log("键盘操作："+p)})});