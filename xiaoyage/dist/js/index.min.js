$(document).ready(function(){function a(){5===p?p=5:p++}function e(){0===p?p=0:p--}function t(){p>0?5===p?$(".btn-next").hide():($(".btn-prev").show(),$(".btn-next").show().removeClass("transparent"),$(".menu-icon-wrap").addClass("change-menu-icon")):($(".btn-prev").hide(),$(".btn-next").addClass("transparent"),$(".change-menu-icon").removeClass("change-menu-icon"))}function n(a,e){switch(a){case 0:$(".page0").show().stop(!1,!1).animate({opacity:1},{duration:1e3}),$(".page1").stop().animate({opacity:0},{duration:1e3}),$(".pagination-bullet").siblings().removeClass("pagination-bullet-active").eq(a).addClass("pagination-bullet-active"),l=!1,console.log(a+e);break;case 1:"down"===e?($(".page0").stop(!1,!1).css({opacity:1}).animate({opacity:0},{duration:1e3,complete:$(this).hide()}),$("#page1_ani1_1").css({top:"-100%"}).animate({top:"0%"},{duration:800}),$("#page1_ani1_2").css({top:-2e3}).delay(300).animate({top:0},{duration:1e3}),$("#page1_ani1_3").css({opacity:1,top:"200%"}).delay(300).animate({top:0},{duration:1e3})):"up"===e&&$(".page2").stop(!1,!1).css({opacity:1}).animate({opacity:0},{duration:1e3}),$(".page1").stop(!1,!1).css({opacity:0}).animate({opacity:1},{duration:1e3},i(a)),$(".pagination-bullet").siblings().removeClass("pagination-bullet-active").eq(a).addClass("pagination-bullet-active"),l=!1,console.log(a+e);break;case 2:"down"===e?($(".page1").stop(!1,!1).animate({opacity:0},{duration:1e3}),$("#page2_ani1_1").css({top:"-100%"}).animate({top:"0%"},{duration:800}),$("#page2_ani1_2").css({top:-2e3}).delay(300).animate({top:0},{duration:1e3}),$("#page2_ani1_3").css({opacity:1,top:"200%"}).delay(300).animate({top:0},{duration:1e3})):"up"===e&&$(".page3").stop(!1,!1).css({opacity:1}).animate({opacity:0},{duration:1e3}),$(".page2").stop(!1,!1).css({opacity:0}).animate({opacity:1},{duration:1e3},i(a)),$(".pagination-bullet").siblings().removeClass("pagination-bullet-active").eq(a).addClass("pagination-bullet-active"),l=!1,console.log(a+e);break;case 3:$(".page3").show().stop(!1,!1).css({opacity:0}).animate({opacity:1},{duration:1e3}),"down"===e?($(".page2").stop(!1,!1).css({opacity:1}).animate({opacity:0},{duration:1e3}),$("#page3_ani2_1").css({opacity:1})):"up"===e&&$(".page4").stop(!1,!1).css({opacity:1}).animate({opacity:0},{duration:1e3}),$(".pagination-bullet").siblings().removeClass("pagination-bullet-active").eq(a).addClass("pagination-bullet-active"),l=!1,console.log(a+e);break;case 4:$(".page4").show().stop(!1,!1).css({opacity:0}).animate({opacity:1},{duration:1e3}),"down"===e?($(".page3").stop(!1,!1).css({opacity:1}).animate({opacity:0},{duration:1e3}),$("#page4_ani1_1").css({top:"-100%"}).animate({top:"0%"},{duration:800}),$("#page4_ani1_2").css({top:-2e3}).delay(300).animate({top:0},{duration:1e3}),$(".text-content1").css({left:900}).delay(700).animate({left:20},{duration:1e3}),$(".text-content2").css({left:900}).delay(900).animate({left:50},{duration:1e3}),$(".text-content3").css({left:900}).delay(1100).animate({left:30},{duration:1e3}),$(".img-title").css({top:800}).delay(400).animate({top:0},{duration:1e3})):"up"===e&&$(".page5").stop(!1,!1).css({opacity:1}).animate({opacity:0},{duration:1e3}),$(".pagination-bullet").siblings().removeClass("pagination-bullet-active").eq(a).addClass("pagination-bullet-active"),l=!1,console.log(a+e);break;case 5:if(l)return void console.log("已经到底部啦！！！");$(".page4").stop(!1,!1).css({opacity:1}).animate({opacity:0},{duration:1e3},o()),$("#page5_ani1_1").css({top:"-100%"}).animate({top:"0%"},{duration:800}),$("#page5_ani1_2").css({top:-2e3}).delay(300).animate({top:0},{duration:1e3}),$("#page5_ani1_3").css({opacity:1,top:"200%"}).delay(300).animate({top:0},{duration:1e3}),$(".page5").stop(!1,!1).css({opacity:0}).animate({opacity:1},{duration:1e3},i(a)),$(".pagination-bullet").siblings().removeClass("pagination-bullet-active").eq(a).addClass("pagination-bullet-active"),l=!0,console.log(a+e);break;default:console.log("未知错误"),console.log(a+e)}}function i(a){a>=0&&$(".page"+a).addClass("page-transitioning")}function o(){$(".page-transitioning").removeClass("page-transitioning")}var s="down",p=0,c=0,l=!1,d=function(i){i=i||window.event,i.wheelDelta?(i.wheelDelta>c&&(s="up",$(".page"+p).is(":animated")||(e(),n(p,s))),i.wheelDelta<c&&(s="down",$(".page"+p).is(":animated")||(a(),n(p,s)))):i.detail&&(i.detail>c&&(e(),$(".page"+p).is(":animated")||(s="up",n(p,s))),i.detail<c&&(s="down",$(".page"+p).is(":animated")||(a(),n(p,s)))),t()};document.addEventListener&&document.addEventListener("DOMMouseScroll",d,!1),window.onmousewheel=document.onmousewheel,document.onmousewheel=d,$(".pagination .pagination-bullet").on("click",function(){var a=$(this).index();p>a?(n(a,"up"),$(".page").not(".page"+a).stop(!1,!1).animate({opacity:0},{duration:1e3},function(){alert(1)})):a>p&&(n(a,"down"),$(".page").not(".page"+a).stop(!1,!1).animate({opacity:0},{duration:1e3},function(){alert(1)})),p=a,console.log(p)}),$(".btn-next").click(function(){$(".page"+p).is(":animated")||(a(),n(p,"down")),t()}),$(".btn-prev").click(function(){$(".page"+p).is(":animated")||(e(),n(p,"up")),t()}),$(document).on("keydown",function(i){38==i.keyCode||33==i.keyCode?($(".page"+p).is(":animated")||(e(),n(p,"up")),t()):(40==i.keyCode||34==i.keyCode)&&($(".page"+p).is(":animated")||(a(),n(p,"down")),t())})});