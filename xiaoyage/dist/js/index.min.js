$(document).ready(function(){function a(){3===p?p=3:p++}function e(){0===p?p=0:p--}function t(){p>0?3===p?$(".btn-next").hide():($(".btn-prev").show(),$(".btn-next").show().removeClass("transparent"),$(".menu-icon-wrap").addClass("change-menu-icon")):($(".btn-prev").hide(),$(".btn-next").addClass("transparent"),$(".change-menu-icon").removeClass("change-menu-icon"))}function n(a,e){switch(a){case 0:$(".page0").show().stop(!1,!1).animate({opacity:1},{duration:1e3}),$(".page1").stop().animate({opacity:0},{duration:1e3}),$(".pagination-bullet").siblings().removeClass("pagination-bullet-active").eq(a).addClass("pagination-bullet-active"),c=!1,console.log(a+e);break;case 1:"down"===e?($(".page0").stop(!1,!1).css({opacity:1}).animate({opacity:0},{duration:1e3,complete:$(this).hide()}),$("#page1-left1").css({top:"-100%"}).animate({top:"0%"},{duration:800}),$("#page1-left2").css({top:-2e3}).delay(300).animate({top:0},{duration:1e3}),$("#page1-right").css({opacity:1,top:"200%"}).delay(300).animate({top:0},{duration:1e3})):"up"===e&&$(".page2").stop(!1,!1).css({opacity:1}).animate({opacity:0},{duration:1e3}),$(".page1").stop(!1,!1).css({opacity:0}).animate({opacity:1},{duration:1e3},o(a)),$(".pagination-bullet").siblings().removeClass("pagination-bullet-active").eq(a).addClass("pagination-bullet-active"),c=!1,console.log(a+e);break;case 2:"down"===e?($(".page1").stop(!1,!1).animate({opacity:0},{duration:1e3}),$("#page2-left1").css({top:"-100%"}).animate({top:"0%"},{duration:800}),$("#page2-left2").css({top:-2e3}).delay(300).animate({top:0},{duration:1e3}),$("#page2-right").css({opacity:1,top:"200%"}).delay(300).animate({top:0},{duration:1e3})):"up"===e&&$(".page3").stop(!1,!1).css({opacity:1}).animate({opacity:0},{duration:1e3}),$(".page2").stop(!1,!1).css({opacity:0}).animate({opacity:1},{duration:1e3},o(a)),$(".pagination-bullet").siblings().removeClass("pagination-bullet-active").eq(a).addClass("pagination-bullet-active"),c=!1,console.log(a+e);break;case 3:if(c)return void console.log("已经到底部啦！！！");$(".page2").stop(!1,!1).css({opacity:1}).animate({opacity:0},{duration:1e3}),$("#page3-left1").css({top:"-100%"}).animate({top:"0%"},{duration:800}),$("#page3-left2").css({top:-2e3}).delay(300).animate({top:0},{duration:1e3}),$("#page3-right").css({opacity:1,top:"200%"}).delay(300).animate({top:0},{duration:1e3}),$(".page3").stop(!1,!1).css({opacity:0}).animate({opacity:1},{duration:1e3},o(a)),$(".pagination-bullet").siblings().removeClass("pagination-bullet-active").eq(a).addClass("pagination-bullet-active"),c=!0,console.log(a+e);break;default:console.log("未知错误"),console.log(a+e)}}function o(a){a>=0&&$(".page"+a).addClass("page-active")}var i="down",p=0,s=0,c=!1,l=function(o){o=o||window.event,o.wheelDelta?(o.wheelDelta>s&&(i="up",$(".page"+p).is(":animated")||(e(),n(p,i))),o.wheelDelta<s&&(i="down",$(".page"+p).is(":animated")||(a(),n(p,i)))):o.detail&&(o.detail>s&&(e(),$(".page"+p).is(":animated")||(i="up",n(p,i))),o.detail<s&&(i="down",$(".page"+p).is(":animated")||(a(),n(p,i)))),t()};document.addEventListener&&document.addEventListener("DOMMouseScroll",l,!1),window.onmousewheel=document.onmousewheel,document.onmousewheel=l,$(".pagination .pagination-bullet").on("click",function(){var a=$(this).index();p>a?(n(a,"up"),$(".page").not(".page"+a).stop(!1,!1).animate({opacity:0},{duration:1e3},function(){alert(1)})):a>p&&(n(a,"down"),$(".page").not(".page"+a).stop(!1,!1).animate({opacity:0},{duration:1e3},function(){alert(1)})),p=a,console.log(p)}),$(".btn-next").click(function(){$(".page"+p).is(":animated")||(a(),n(p,"down")),t()}),$(".btn-prev").click(function(){$(".page"+p).is(":animated")||(e(),n(p,"up")),t()}),$(document).on("keydown",function(o){38==o.keyCode||33==o.keyCode?($(".page"+p).is(":animated")||(e(),n(p,"up")),t()):(40==o.keyCode||34==o.keyCode)&&($(".page"+p).is(":animated")||(a(),n(p,"down")),t())})});